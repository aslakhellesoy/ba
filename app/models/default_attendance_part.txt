<r:ba:if_email_exists>
  <h3>Failed to sign you up</h3>
  
  The email address is already registered. Try to <a href="/login">Log in</a> in instead.
</r:ba:if_email_exists>

<r:ba:attendance:unless>
  <h3>Please sign up below</h3>
</r:ba:attendance:unless>

<r:ba:attendance:if>
  <h3>You are registered, <r:ba:site_user_name /></h3>
  You can change your details below.
</r:ba:attendance:if>

<r:ba:signup_form>
  <r:ba:unless_logged_in_and_active>
    <fieldset>
      <legend>Personal</legend>

      <p><label for="site_user_name">Name</label>
      <r:ba:input object="site_user" field="name" type="text"/></p>

      <p><label for="site_user_email">Email</label>
      <r:ba:input object="site_user" field="email" type="text"/></p>

      <p><label for="site_user_password">Choose Password</label>
      <r:ba:input object="site_user" field="password" type="password"/></p>

      <p><label for="site_user_password_confirmation">Confirm password</label>
      <r:ba:input object="site_user" field="password_confirmation" type="password"/></p>

      <p><label for="site_user_role">Role/Title</label>
      <r:ba:input object="site_user" field="role" type="text"/></p>

      <p><label for="site_user_company">Company</label>
      <r:ba:input object="site_user" field="company" type="text"/></p>

      <p><label for="site_user_billing_address">Billing address</label>
      <r:ba:input object="site_user" field="billing_address" type="text"/></p>

      <p><label for="site_user_billing_area_code">ZIP code</label>
      <r:ba:input object="site_user" field="billing_area_code" type="text"/></p>

      <p><label for="site_user_billing_city">City</label>
      <r:ba:input object="site_user" field="billing_city" type="text"/></p>
    </fieldset>
  </r:ba:unless_logged_in_and_active>

  <fieldset>
    <legend>Attendance</legend>

    <p><label for="attendance_price_code">Price Code</label>
    <r:ba:input object="attendance" field="price_code" id="attendance_price_code" type="text"/></p>
  </fieldset>

  <p><input id="presenting" name="presenting" type="checkbox" value="1" />
  <label for="presenting">Add a presentation proposal</label></p>
  <script type="text/javascript">
    //<![CDATA[
    new Form.Element.EventObserver('presenting', function(element, value) {$("presentation_fields").toggle();})
    //]]>
  </script>

  <div id="presentation_fields" style="display: none">
    <fieldset>
      <legend>Presentation information</legend>

      <p><label for="presentation_title">Title</label><br/>
      <r:ba:input object="presentation" field="title" id="presentation_title" type="text"/></p>

      <p><label for="presentation_body">Description</label><br/>
      <r:ba:textarea object="presentation" field="body" cols="40" rows="20"/></p>
    </fieldset>
  </div>

  <r:ba:attendance:unless>
    <input id="attendance_submit" name="commit" type="submit" value="Sign up" />
  </r:ba:attendance:unless>
  <r:ba:attendance:if>
    <input id="attendance_submit" name="commit" type="submit" value="Update" />
  </r:ba:attendance:if>

</r:ba:signup_form>

<r:ba:attendance:presentations:if>
Since you have submitted a proposal, you will only receive an invoice if none of your proposals are accepted.

Your proposals:
  <ul>
  <r:ba:attendance:presentations:each>
    <li><r:link /></li>
  </r:ba:attendance:presentations:each>
  </ul>
</r:ba:attendance:presentations:if>

<r:ba:attendance:presentations:unless>
We will send you an invoice of <r:ba:attendance:price /> later.
</r:ba:attendance:presentations:unless>
